services:
  slack-bot:
    build: .
    restart: unless-stopped
    ports:
      - "${API_PORT:-3000}:${API_PORT:-3000}"
    env_file:
      - .env
    volumes:
      - ./threads.db:/app/threads.db
      - ./feature_requests.db:/app/feature_requests.db
      - ./logs:/app/logs
      # Optional: Mount Google Cloud credentials if used
      - ./gcloud-credentials.json:/app/gcloud-credentials.json:ro
      # Mount repositories for feature requests
      - /home/carmex/slackRepos:/app/mnt/repos
      # Mount Gemini config for persistence
      - ./gemini-config:/home/slackbot/.gemini
      # Mount GitHub CLI config for auth
      - ./gh-config:/home/slackbot/.config/gh
      # Python MCP Server
      - /home/carmex/python-mcp-server:/app/python-mcp-server
